(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d87d8f30","chunk-2d0c1d91"],{4890:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-spin",{attrs:{spinning:t.confirmLoading}},[a("j-form-container",{attrs:{disabled:t.formDisabled}},[a("a-form-model",{ref:"form",attrs:{slot:"detail",model:t.model,rules:t.validatorRules},slot:"detail"},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"租户名称",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入租户名称"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"租户编号",labelCol:t.labelCol,wrapperCol:t.wrapperCol,prop:"id"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1,placeholder:"请输入租户编号",disabled:t.disabledId},model:{value:t.model.id,callback:function(e){t.$set(t.model,"id",e)},expression:"model.id"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"状态",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[a("a-radio-group",{attrs:{name:"tenantStatus"},model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},[a("a-radio",{attrs:{value:1}},[t._v("正常")]),a("a-radio",{attrs:{value:0}},[t._v("冻结")])],1)],1)],1),t.showFlowSubmitButton?a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[a("a-button",{on:{click:t.submitForm}},[t._v("提 交")])],1):t._e()],1)],1)],1)],1)},s=[],i=a("0fea"),o=(a("ca00"),a("c681e")),n=a("2dab"),r=a("7b16"),d={name:"TenantForm",components:{JFormContainer:o["default"],JDate:n["default"],JDictSelectTag:r["default"]},props:{formData:{type:Object,default:function(){},required:!1},normal:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{model:{status:1},id:"",labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{id:[{required:!0,message:"请输入租户编号!"}]},url:{add:"/sys/tenant/add",edit:"/sys/tenant/edit",queryById:"/sys/tenant/queryById"}}},computed:{formDisabled:function(){return!1===this.normal?!1!==this.formData.disabled:this.disabled},disabledId:function(){return!!this.id},showFlowSubmitButton:function(){return!1===this.normal&&!1===this.formData.disabled}},created:function(){this.showFlowData()},methods:{show:function(t){this.model=t?Object.assign({},t):this.model,this.id=t?t.id:"",this.visible=!0},showFlowData:function(){var t=this;if(!1===this.normal){var e={id:this.formData.dataId};Object(i["c"])(this.url.queryById,e).then((function(e){e.success&&t.edit(e.result)}))}},submitForm:function(){var t=this,e=this;e.$refs.form.validate((function(a){if(!a)return!1;e.confirmLoading=!0;var l="",s="";t.id?(l+=t.url.edit,s="put"):(l+=t.url.add,s="post"),Object(i["h"])(l,t.model,s).then((function(a){a.success?(e.$message.success(a.message),e.$emit("ok")):("该编号已存在!"==a.message&&(t.model.id=""),e.$message.warning(a.message))})).finally((function(){e.confirmLoading=!1}))}))},popupCallback:function(t){this.model=Object.assign(this.model,t)}}},u=d,c=a("2877"),m=Object(c["a"])(u,l,s,!1,null,null,null);e["default"]=m.exports},7474:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("j-modal",{attrs:{title:t.title,width:t.width,visible:t.visible,switchFullscreen:"",okButtonProps:{class:{"jee-hidden":t.disableSubmit}},cancelText:"关闭"},on:{ok:t.handleOk,cancel:t.handleCancel}},[a("tenant-form",{ref:"realForm",attrs:{disabled:t.disableSubmit,normal:""},on:{ok:t.submitCallback}})],1)},s=[],i=a("4890"),o={name:"TenantModal",components:{TenantForm:i["default"]},data:function(){return{title:"",width:800,visible:!1,disableSubmit:!1}},methods:{add:function(){var t=this;this.visible=!0,this.$nextTick((function(){t.$refs.realForm.show()}))},edit:function(t){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs.realForm.show(t)}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){this.$refs.realForm.submitForm()},submitCallback:function(){this.$emit("ok"),this.visible=!1},handleCancel:function(){this.close()}}},n=o,r=a("2877"),d=Object(r["a"])(n,l,s,!1,null,null,null);e["default"]=d.exports}}]);